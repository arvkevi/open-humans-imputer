{% extends 'main/base.html' %}
{% load static %}
{% block content %}

  <div class="jumbotron">
      <h1 class="display-4">Open Humans Imputer</h1>
    <p class="lead">
     This is the homepage for the 
      <a href="https://www.openhumans.org/">Open Humans</a> Imputer app.
    </p>
    <p class="lead">
      Learn more by visiting:<br>
      <a href="{{ oh_proj_page }}">{{ oh_proj_page }}</a>
    </p>
    <h2>How to impute your Open Humans genotype data:</h2>
    <ol>
      <li><b>Click the button below</b><br>
        This takes you to Open Humans.</li>
      <li><b>Log in or create an Open Humans account</b><br>
        Data will be added to this account.</li>
      <li><b>Authorize this app in Open Humans</b><br>
        This authorizes us to add data to your account.</li>
      <li><b>Wait... and check back later.</b><br>
        Genome imputation is a computaionally expensive task, please be patient as other members may be ahead of you in the queue.
        One member's imputation completes in approximately 7 hours with our current configuration.
        A file named <b>member.imputed.vcf</b> should be added to your Open Humans account.
        You'll be able to access and manage data here:
        <a href="{{ oh_proj_page }}">{{ oh_proj_page }}</a>
      </li>
    </ol>
    {% if client_id %}
    <a
      class="btn btn-primary btn-lg"
      href="https://www.openhumans.org/direct-sharing/projects/oauth2/authorize/?client_id={{ client_id }}&response_type=code&redirect_uri={{redirect_uri}}"
      {% else %}
      class="btn btn-default disabled"
      {% endif %}
      >
      Start with Open Humans authorization
    </a>
    {% if not client_id %}
    <p class="text-muted"><i>
      This button is disabled because client_id hasn't been configured.
    </i></p>
    {% endif %}
  </div>

{% endblock %}
